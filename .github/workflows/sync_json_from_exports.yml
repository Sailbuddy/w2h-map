name: ğŸ” Sync JSON from w2h-json-exports

on:
  schedule:
    - cron: "0 3 * * *"  # TÃ¤glich um 03:00 UTC
  workflow_dispatch:     # Manuell auslÃ¶sbar

jobs:
  sync-json:
    runs-on: ubuntu-latest
    steps:
      - name: ğŸ“¥ Repo klonen
        uses: actions/checkout@v3

      - name: ğŸ“ public/data Ordner sicherstellen
        run: mkdir -p public/data

      - name: ğŸ”½ Lade JSON-Dateien von w2h-json
        run: |
          cd public/data
          wget -q https://w2h-json.netlify.app/data/location_de.json
          wget -q https://w2h-json.netlify.app/data/location_en.json
          wget -q https://w2h-json.netlify.app/data/categories_de.json
          wget -q https://w2h-json.netlify.app/data/categories_en.json
          # weitere Dateien bei Bedarfâ€¦

      - name: ğŸ“¤ Commit & Push Ã„nderungen
        run: |
          git config user.name "w2h bot"
          git config user.email "bot@wind2horizon.com"
          git add public/data/*.json
          git commit -m "ğŸ” Auto-Sync JSON-Daten von w2h-json-exports" || echo "No changes to commit"
          git push
